{% extends "base.html" %} {% block title %}HangSpace - Connect with Friends{%
endblock %} {% block content %}
<div class="intro-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <div class="hero-text">
        <div class="hero-title-container">
          <h1 class="hero-title">
            <i class="fas fa-comments hero-icon"></i>
            <span class="title-text">
              <span class="title-part">Welcome to</span>
              <span class="title-part highlight">HangSpace</span>
            </span>
          </h1>
        </div>
        <div class="hero-subtitle-container">
          <p class="hero-subtitle">
            <span class="subtitle-text"
              >The ultimate real-time chat platform for seamless communication
              with friends, family, and communities.</span
            >
          </p>
        </div>
        <div class="hero-buttons">
          <a
            href="{{ url_for('login') }}"
            class="btn btn-primary btn-large pulse-animation"
          >
            <i class="fab fa-google"></i> Get Started with Google
          </a>
          <a
            href="{{ url_for('learn_more') }}"
            class="btn btn-secondary btn-large"
          >
            <i class="fas fa-info-circle"></i> Learn More
          </a>
        </div>
      </div>
      <div class="hero-visual">
        <div class="chat-preview">
          <div class="chat-window">
            <div class="chat-header">
              <div class="online-indicator"></div>
              <span>Friends Chat</span>
            </div>
            <div class="chat-messages">
              <div class="message received">
                <div class="message-avatar">JS</div>
                <div class="message-content">
                  <div class="message-sender">John Smith</div>
                  <div class="message-text">
                    Hey, are we still meeting today?
                  </div>
                </div>
              </div>
              <div class="message sent">
                <div class="message-content">
                  <div class="message-text">Yes! 6 PM at the usual place</div>
                </div>
              </div>
              <div class="message received">
                <div class="message-avatar">MJ</div>
                <div class="message-content">
                  <div class="message-sender">Maria Johnson</div>
                  <div class="message-text">Can't wait! üéâ</div>
                </div>
              </div>
              <div class="message received">
                <div class="message-avatar">AS</div>
                <div class="message-content">
                  <div class="message-sender">Alex Smith</div>
                  <div class="message-text">I'll bring the drinks! üçπ</div>
                </div>
              </div>
              <div class="message sent">
                <div class="message-content">
                  <div class="message-text">Perfect! See you all there üòä</div>
                </div>
              </div>
            </div>
            <div class="chat-input">
              <input
                type="text"
                placeholder="Type a message..."
                class="preview-input"
              />
              <button class="preview-send-btn">
                <i class="fas fa-paper-plane"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Floating background elements -->
    <div class="floating-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
      <div class="shape shape-4"></div>
    </div>

    <!-- Animated background elements -->
    <div class="animated-background">
      <div class="floating-shape shape-1"></div>
      <div class="floating-shape shape-2"></div>
      <div class="floating-shape shape-3"></div>
      <div class="floating-shape shape-4"></div>
    </div>
  </section>

  <!-- Newsletter Section -->
  <section class="newsletter-section">
    <div class="container">
      <div class="newsletter-card">
        <div class="newsletter-content">
          <h2>Stay Updated</h2>
          <p>Get the latest features and updates delivered to your inbox</p>
          <form id="newsletterForm" class="newsletter-form">
            <div class="form-group">
              <input
                type="email"
                id="newsletterEmail"
                class="form-input"
                placeholder="Enter your email"
                required
              />
              <div class="form-help">
                We'll never share your email with anyone else
              </div>
            </div>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-paper-plane"></i> Subscribe
            </button>
          </form>
          <div id="newsletterMessage" class="newsletter-message"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="features-section">
    <div class="container">
      <h2 class="section-title">Why Choose HangSpace?</h2>
      <p class="section-subtitle">
        Experience the future of real-time communication with our powerful
        features
      </p>

      <div class="features-grid">
        <div class="feature-card" data-aos="fade-up">
          <div class="feature-icon">
            <i class="fas fa-bolt"></i>
          </div>
          <h3>Real-time Messaging</h3>
          <p>
            Instant message delivery with live typing indicators and read
            receipts for seamless conversations.
          </p>
        </div>

        <div class="feature-card" data-aos="fade-up" data-aos-delay="100">
          <div class="feature-icon">
            <i class="fas fa-users"></i>
          </div>
          <h3>Friend System</h3>
          <p>
            Connect with friends, send requests, and build your social network
            with ease.
          </p>
        </div>

        <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
          <div class="feature-icon">
            <i class="fas fa-shield-alt"></i>
          </div>
          <h3>Secure & Private</h3>
          <p>
            Your conversations are protected with enterprise-grade security and
            privacy controls.
          </p>
        </div>

        <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
          <div class="feature-icon">
            <i class="fas fa-palette"></i>
          </div>
          <h3>Custom Themes</h3>
          <p>
            Personalize your chat experience with multiple theme options and
            dark/light modes.
          </p>
        </div>

        <div class="feature-card" data-aos="fade-up" data-aos-delay="400">
          <div class="feature-icon">
            <i class="fas fa-mobile-alt"></i>
          </div>
          <h3>Responsive Design</h3>
          <p>
            Chat seamlessly across all your devices with our fully responsive
            interface.
          </p>
        </div>

        <div class="feature-card" data-aos="fade-up" data-aos-delay="500">
          <div class="feature-icon">
            <i class="fas fa-bell"></i>
          </div>
          <h3>Smart Notifications</h3>
          <p>
            Stay updated with intelligent notifications that consolidate
            multiple messages.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials-section">
    <div class="container">
      <h2 class="section-title">What Our Users Say</h2>
      <div class="testimonials-carousel">
        <div class="carousel-container">
          <div class="testimonials-track" id="testimonialsTrack">
            <!-- Testimonials will be loaded dynamically -->
          </div>
        </div>
        <div class="carousel-controls">
          <button class="carousel-btn prev-btn" id="prevTestimonial">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button class="carousel-btn next-btn" id="nextTestimonial">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
        <div class="carousel-dots" id="carouselDots">
          <!-- Dots will be generated dynamically -->
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="how-it-works-section">
    <div class="container">
      <h2 class="section-title">How It Works</h2>
      <div class="steps-container">
        <div class="step" data-aos="fade-right">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>Sign Up</h3>
            <p>Quick Google authentication to get started in seconds</p>
          </div>
        </div>

        <div class="step" data-aos="fade-right" data-aos-delay="100">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>Create Profile</h3>
            <p>Set up your unique profile with custom display name</p>
          </div>
        </div>

        <div class="step" data-aos="fade-right" data-aos-delay="200">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>Connect</h3>
            <p>Find friends and start meaningful conversations</p>
          </div>
        </div>

        <div class="step" data-aos="fade-right" data-aos-delay="300">
          <div class="step-number">4</div>
          <div class="step-content">
            <h3>Chat</h3>
            <p>Enjoy real-time messaging with all the features</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2>Ready to Start Chatting?</h2>
        <p>Join thousands of users already enjoying HangSpace</p>
        <div class="cta-buttons">
          <a
            href="{{ url_for('login') }}"
            class="btn btn-primary btn-large btn-glow"
          >
            <i class="fab fa-google"></i> Get Started Now
          </a>
          <a
            href="{{ url_for('dashboard') }}"
            class="btn btn-secondary btn-large"
          >
            <i class="fas fa-tachometer-alt"></i> Go to Dashboard
          </a>
        </div>
        <div class="cta-stats">
          <div class="stat">
            <div class="stat-number">10K+</div>
            <div class="stat-label">Active Users</div>
          </div>
          <div class="stat">
            <div class="stat-number">50K+</div>
            <div class="stat-label">Messages Daily</div>
          </div>
          <div class="stat">
            <div class="stat-number">99.9%</div>
            <div class="stat-label">Uptime</div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- Theme Toggle -->
<div class="theme-toggle">
  <button id="themeToggle" class="theme-toggle-btn" aria-label="Toggle theme">
    <i class="fas fa-moon"></i>
    <span class="theme-text">Dark Mode</span>
  </button>
</div>

<style>
  .intro-container {
    min-height: 100vh;
  }

  /* Theme Toggle */
  .theme-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
  }

  .theme-toggle-btn {
    background: var(--secondary-dark);
    border: 1px solid var(--primary-blue);
    color: var(--text-dark);
    padding: 0.75rem 1rem;
    border-radius: 2rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: var(--transition-smooth);
    box-shadow: var(--shadow);
  }

  .theme-toggle-btn:hover {
    background: var(--tertiary-dark);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  .theme-text {
    font-size: 0.875rem;
    font-weight: 500;
  }

  /* Light theme variables */
  [data-theme="light"] {
    --primary-dark: #ffffff;
    --secondary-dark: #f8f9fa;
    --tertiary-dark: #e9ecef;
    --background-light: #ffffff;
    --text-dark: #2d3748;
    --text-light: #4a5568;
    --border-light: #e2e8f0;
  }

  [data-theme="light"] .hero-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  [data-theme="light"] .hero-section::before {
    background: radial-gradient(
        circle at 20% 80%,
        rgba(255, 255, 255, 0.1) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 80% 20%,
        rgba(255, 255, 255, 0.05) 0%,
        transparent 50%
      );
  }

  [data-theme="light"] .card {
    background: var(--secondary-dark);
    border: 1px solid var(--border-light);
  }

  [data-theme="light"] .form-input {
    background: var(--primary-white);
    color: var(--text-dark);
    border: 1px solid var(--border-light);
  }

  [data-theme="light"] .feature-card,
  [data-theme="light"] .testimonial-slide,
  [data-theme="light"] .newsletter-card {
    background: var(--secondary-dark);
    border: 1px solid var(--border-light);
  }

  [data-theme="light"] .floating-shape {
    background: radial-gradient(circle, #667eea 0%, transparent 70%);
  }

  /* Hero Section */
  .hero-section {
    background: linear-gradient(
      135deg,
      var(--primary-dark) 0%,
      var(--secondary-dark) 100%
    );
    padding: 4rem 2rem;
    position: relative;
    overflow: hidden;
  }

  .hero-section::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle at 20% 80%,
        rgba(0, 243, 255, 0.1) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 80% 20%,
        rgba(0, 243, 255, 0.05) 0%,
        transparent 50%
      );
    pointer-events: none;
  }

  .hero-content {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: center;
    position: relative;
    z-index: 2;
  }

  /* Fixed Hero Animations */
  .hero-title {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    background: linear-gradient(135deg, var(--primary-blue), #00aaff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    opacity: 0;
    transform: translateY(30px);
    animation: heroTitleAnimation 1s ease 0.3s forwards;
  }

  .hero-icon {
    margin-right: 1rem;
  }

  .hero-subtitle {
    font-size: 1.25rem;
    color: var(--text-light);
    margin-bottom: 2rem;
    line-height: 1.6;
    opacity: 0;
    transform: translateY(20px);
    animation: heroSubtitleAnimation 1s ease 0.8s forwards;
  }

  @keyframes heroTitleAnimation {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes heroSubtitleAnimation {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    opacity: 0;
    transform: translateY(20px);
    animation: heroButtonsAnimation 1s ease 1.2s forwards;
  }

  @keyframes heroButtonsAnimation {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .btn-large {
    padding: 1rem 2rem;
    font-size: 1.1rem;
  }

  .btn-glow {
    box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
  }

  .btn-glow:hover {
    box-shadow: 0 0 30px rgba(0, 243, 255, 0.5);
  }

  .pulse-animation {
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 rgba(0, 243, 255, 0.4);
    }
    70% {
      box-shadow: 0 0 0 10px rgba(0, 243, 255, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(0, 243, 255, 0);
    }
  }

  /* Animated Background */
  .animated-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
  }

  .floating-shape {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(
      circle,
      var(--primary-blue) 0%,
      transparent 70%
    );
    opacity: 0.1;
    animation: float 6s ease-in-out infinite;
  }

  .shape-1 {
    width: 100px;
    height: 100px;
    top: 10%;
    left: 10%;
    animation-delay: 0s;
  }

  .shape-2 {
    width: 150px;
    height: 150px;
    top: 60%;
    right: 10%;
    animation-delay: 2s;
  }

  .shape-3 {
    width: 80px;
    height: 80px;
    bottom: 20%;
    left: 20%;
    animation-delay: 4s;
  }

  .shape-4 {
    width: 120px;
    height: 120px;
    top: 30%;
    right: 20%;
    animation-delay: 1s;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(180deg);
    }
  }

  /* Chat Preview */
  .chat-preview {
    display: flex;
    justify-content: center;
  }

  .chat-window {
    background: var(--secondary-dark);
    border-radius: 1rem;
    border: 1px solid var(--border-light);
    box-shadow: var(--shadow-lg);
    width: 100%;
    max-width: 400px;
    overflow: hidden;
    opacity: 0;
    transform: translateX(30px);
    animation: chatPreviewAnimation 1s ease 1s forwards;
  }

  @keyframes chatPreviewAnimation {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .chat-header {
    background: var(--tertiary-dark);
    padding: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    border-bottom: 1px solid var(--border-light);
  }

  .chat-messages {
    padding: 1rem;
    height: 200px;
    overflow-y: auto;
  }

  .message {
    display: flex;
    margin-bottom: 1rem;
    gap: 0.5rem;
  }

  .message.sent {
    justify-content: flex-end;
  }

  .message-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary-blue), #00aaff);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    font-weight: bold;
    color: var(--primary-dark);
    flex-shrink: 0;
  }

  .message-content {
    max-width: 70%;
  }

  .message-sender {
    font-size: 0.8rem;
    color: var(--text-light);
    margin-bottom: 0.25rem;
  }

  .message-text {
    background: var(--tertiary-dark);
    padding: 0.75rem;
    border-radius: 1rem;
    font-size: 0.9rem;
  }

  .message.sent .message-text {
    background: linear-gradient(135deg, var(--primary-blue), #00aaff);
    color: var(--primary-dark);
  }

  .chat-input {
    padding: 1rem;
    border-top: 1px solid var(--border-light);
    display: flex;
    gap: 0.5rem;
  }

  .preview-input {
    flex: 1;
    background: var(--tertiary-dark);
    border: 1px solid var(--border-light);
    border-radius: 2rem;
    padding: 0.75rem 1rem;
    color: var(--text-dark);
    font-size: 0.9rem;
  }

  .preview-send-btn {
    background: linear-gradient(135deg, var(--primary-blue), #00aaff);
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary-dark);
    cursor: pointer;
    transition: var(--transition-smooth);
  }

  .preview-send-btn:hover {
    transform: scale(1.1);
  }

  /* Newsletter Section */
  .newsletter-section {
    padding: 4rem 2rem;
    background: var(--background-light);
  }

  .newsletter-card {
    background: var(--secondary-dark);
    border-radius: 1rem;
    padding: 3rem;
    text-align: center;
    border: 1px solid var(--border-light);
    max-width: 600px;
    margin: 0 auto;
    box-shadow: var(--shadow-lg);
  }

  .newsletter-content h2 {
    font-size: 2rem;
    margin-bottom: 1rem;
    color: var(--text-dark);
  }

  .newsletter-content p {
    color: var(--text-light);
    margin-bottom: 2rem;
  }

  .newsletter-form {
    display: flex;
    gap: 1rem;
    max-width: 400px;
    margin: 0 auto;
  }

  .newsletter-form .form-group {
    flex: 1;
    margin: 0;
  }

  .newsletter-message {
    margin-top: 1rem;
    padding: 0.75rem;
    border-radius: 0.5rem;
    font-weight: 500;
    display: none;
  }

  .newsletter-message.success {
    background: rgba(0, 255, 136, 0.1);
    color: var(--success);
    border: 1px solid var(--success);
    display: block;
  }

  .newsletter-message.error {
    background: rgba(255, 68, 68, 0.1);
    color: var(--error);
    border: 1px solid var(--error);
    display: block;
  }

  /* Features Section */
  .features-section {
    padding: 6rem 2rem;
    background: var(--background-light);
  }

  .section-title {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 1rem;
    color: var(--text-dark);
  }

  .section-subtitle {
    text-align: center;
    font-size: 1.1rem;
    color: var(--text-light);
    margin-bottom: 4rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .feature-card {
    background: var(--secondary-dark);
    padding: 2rem;
    border-radius: 1rem;
    border: 1px solid var(--border-light);
    text-align: center;
    transition: var(--transition-smooth);
  }

  .feature-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
    border-color: var(--primary-blue);
  }

  .feature-icon {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, var(--primary-blue), #00aaff);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    font-size: 2rem;
    color: var(--primary-dark);
  }

  .feature-card h3 {
    font-size: 1.25rem;
    margin-bottom: 1rem;
    color: var(--text-dark);
  }

  .feature-card p {
    color: var(--text-light);
    line-height: 1.6;
  }

  /* Testimonials Section */
  .testimonials-section {
    padding: 6rem 2rem;
    background: linear-gradient(
      135deg,
      var(--secondary-dark) 0%,
      var(--primary-dark) 100%
    );
    position: relative;
    overflow: hidden;
  }

  .testimonials-section::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        circle at 20% 30%,
        rgba(0, 243, 255, 0.05) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 80% 70%,
        rgba(0, 243, 255, 0.03) 0%,
        transparent 50%
      );
    pointer-events: none;
  }

  .testimonials-carousel {
    position: relative;
    max-width: 800px;
    margin: 0 auto;
  }

  .carousel-container {
    overflow: hidden;
    border-radius: 1rem;
  }

  .testimonials-track {
    display: flex;
    transition: transform 0.5s ease-in-out;
  }

  .testimonial-slide {
    min-width: 100%;
    padding: 2.5rem;
    background: var(--secondary-dark);
    border-radius: 1.5rem;
    border: 1px solid var(--border-light);
    transition: var(--transition-smooth);
    position: relative;
    overflow: hidden;
  }

  .testimonial-slide::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(135deg, var(--primary-blue), #00aaff);
  }

  .testimonial-content {
    position: relative;
    margin-bottom: 2rem;
  }

  .quote-icon {
    color: var(--primary-blue);
    font-size: 2rem;
    margin-bottom: 1.5rem;
    opacity: 0.7;
    display: block;
  }

  .testimonial-content p {
    color: var(--text-light);
    font-size: 1.1rem;
    line-height: 1.7;
    font-style: italic;
    margin: 0;
    position: relative;
    z-index: 2;
  }

  .testimonial-content::after {
    content: '"';
    position: absolute;
    bottom: -1rem;
    right: 0;
    font-size: 4rem;
    color: rgba(0, 243, 255, 0.1);
    font-family: serif;
    line-height: 1;
  }

  .testimonial-author {
    display: flex;
    align-items: center;
    gap: 1.2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-light);
    position: relative;
  }

  .testimonial-author::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 40px;
    height: 2px;
    background: linear-gradient(135deg, var(--primary-blue), #00aaff);
    border-radius: 1px;
  }

  .author-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary-blue), #00aaff);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary-dark);
    font-weight: bold;
    font-size: 1.2rem;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(0, 243, 255, 0.3);
    transition: var(--transition-smooth);
  }

  .author-info {
    display: flex;
    flex-direction: column;
    flex: 1;
  }

  .author-info strong {
    color: var(--text-dark);
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
  }

  .author-info span {
    color: var(--text-light);
    font-size: 0.9rem;
    opacity: 0.8;
  }

  .carousel-controls {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    display: flex;
    justify-content: space-between;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .carousel-btn {
    background: var(--secondary-dark);
    border: 1px solid var(--primary-blue);
    color: var(--text-dark);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: var(--transition-smooth);
    pointer-events: all;
  }

  .carousel-btn:hover {
    background: var(--primary-blue);
    color: var(--primary-dark);
  }

  .carousel-dots {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 1.5rem;
  }

  .carousel-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--text-light);
    cursor: pointer;
    transition: var(--transition-smooth);
  }

  .carousel-dot.active {
    background: var(--primary-blue);
    transform: scale(1.2);
  }

  /* How It Works Section */
  .how-it-works-section {
    padding: 6rem 2rem;
    background: var(--primary-dark);
  }

  .steps-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .step {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
  }

  .step-number {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, var(--primary-blue), #00aaff);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: var(--primary-dark);
    flex-shrink: 0;
    font-size: 1.25rem;
  }

  .step-content h3 {
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
    color: var(--text-dark);
  }

  .step-content p {
    color: var(--text-light);
    line-height: 1.6;
  }

  /* CTA Section */
  .cta-section {
    padding: 6rem 2rem;
    background: linear-gradient(
      135deg,
      var(--secondary-dark) 0%,
      var(--primary-dark) 100%
    );
    text-align: center;
  }

  .cta-content h2 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    color: var(--text-dark);
  }

  .cta-content p {
    font-size: 1.1rem;
    color: var(--text-light);
    margin-bottom: 2rem;
  }

  .cta-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .cta-stats {
    display: flex;
    justify-content: center;
    gap: 4rem;
    margin-top: 4rem;
    flex-wrap: wrap;
  }

  .stat {
    text-align: center;
  }

  .stat-number {
    font-size: 2.5rem;
    font-weight: bold;
    background: linear-gradient(135deg, var(--primary-blue), #00aaff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 0.5rem;
  }

  .stat-label {
    color: var(--text-light);
    font-size: 0.9rem;
  }

  /* Floating shapes (existing) */
  .floating-shapes {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .floating-shapes .shape {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(
      circle,
      var(--primary-blue) 0%,
      transparent 70%
    );
    opacity: 0.1;
    animation: float 6s ease-in-out infinite;
  }

  .floating-shapes .shape-1 {
    width: 100px;
    height: 100px;
    top: 20%;
    left: 10%;
    animation-delay: 0s;
  }

  .floating-shapes .shape-2 {
    width: 150px;
    height: 150px;
    top: 60%;
    right: 10%;
    animation-delay: 2s;
  }

  .floating-shapes .shape-3 {
    width: 80px;
    height: 80px;
    bottom: 20%;
    left: 20%;
    animation-delay: 4s;
  }

  .floating-shapes .shape-4 {
    width: 120px;
    height: 120px;
    top: 30%;
    right: 20%;
    animation-delay: 1s;
  }

  /* AOS animations */
  [data-aos] {
    opacity: 0;
    transition: all 0.6s ease;
  }

  [data-aos].aos-animate {
    opacity: 1;
  }

  [data-aos="fade-up"] {
    transform: translateY(30px);
  }

  [data-aos="fade-up"].aos-animate {
    transform: translateY(0);
  }

  [data-aos="fade-right"] {
    transform: translateX(-30px);
  }

  [data-aos="fade-right"].aos-animate {
    transform: translateX(0);
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .hero-content {
      grid-template-columns: 1fr;
      gap: 2rem;
      text-align: center;
    }

    .hero-title {
      font-size: 2.5rem;
    }

    .hero-buttons {
      justify-content: center;
    }

    .features-grid {
      grid-template-columns: 1fr;
    }

    .steps-container {
      grid-template-columns: 1fr;
    }

    .cta-stats {
      gap: 2rem;
    }

    .stat-number {
      font-size: 2rem;
    }

    .newsletter-form {
      flex-direction: column;
    }

    .newsletter-card {
      padding: 2rem;
    }

    .cta-buttons {
      flex-direction: column;
      align-items: center;
    }

    .cta-buttons .btn {
      width: 100%;
      max-width: 300px;
    }

    .carousel-controls {
      position: static;
      transform: none;
      justify-content: center;
      gap: 2rem;
      margin-top: 1rem;
    }

    .theme-toggle {
      top: 10px;
      right: 10px;
    }

    .theme-text {
      display: none;
    }

    .testimonial-slide {
      padding: 2rem;
    }

    .testimonial-author {
      flex-direction: column;
      text-align: center;
      gap: 1rem;
    }

    .testimonial-author::before {
      left: 50%;
      transform: translateX(-50%);
    }
  }

  @media (max-width: 480px) {
    .hero-section,
    .features-section,
    .how-it-works-section,
    .cta-section,
    .testimonials-section,
    .newsletter-section {
      padding: 3rem 1rem;
    }

    .hero-title {
      font-size: 2rem;
    }

    .section-title {
      font-size: 2rem;
    }

    .btn-large {
      padding: 0.875rem 1.5rem;
      font-size: 1rem;
    }

    .hero-buttons {
      flex-direction: column;
      align-items: center;
    }

    .hero-buttons .btn {
      width: 100%;
      max-width: 300px;
    }

    .newsletter-card {
      padding: 1.5rem;
    }

    .testimonial-slide {
      padding: 1.5rem;
    }

    .quote-icon {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    .testimonial-content::after {
      font-size: 3rem;
      bottom: -0.5rem;
    }
  }
</style>

<script>
  // Theme Toggle
  document.addEventListener("DOMContentLoaded", function () {
    const themeToggle = document.getElementById("themeToggle");
    const themeIcon = themeToggle.querySelector("i");
    const themeText = themeToggle.querySelector(".theme-text");

    // Check for saved theme or prefer-color-scheme
    const savedTheme =
      localStorage.getItem("theme") ||
      (window.matchMedia("(prefers-color-scheme: dark)").matches
        ? "dark"
        : "light");

    // Apply the theme
    document.documentElement.setAttribute("data-theme", savedTheme);
    updateThemeToggle(savedTheme);

    themeToggle.addEventListener("click", function () {
      const currentTheme = document.documentElement.getAttribute("data-theme");
      const newTheme = currentTheme === "light" ? "dark" : "light";

      document.documentElement.setAttribute("data-theme", newTheme);
      localStorage.setItem("theme", newTheme);
      updateThemeToggle(newTheme);
    });

    function updateThemeToggle(theme) {
      if (theme === "light") {
        themeIcon.className = "fas fa-sun";
        themeText.textContent = "Light Mode";
      } else {
        themeIcon.className = "fas fa-moon";
        themeText.textContent = "Dark Mode";
      }
    }

    // Newsletter Form
    const newsletterForm = document.getElementById("newsletterForm");
    const newsletterMessage = document.getElementById("newsletterMessage");

    newsletterForm.addEventListener("submit", async function (e) {
      e.preventDefault();

      const email = document.getElementById("newsletterEmail").value;
      const submitBtn = newsletterForm.querySelector('button[type="submit"]');
      const originalText = submitBtn.innerHTML;

      // Show loading state
      submitBtn.innerHTML =
        '<i class="fas fa-spinner fa-spin"></i> Subscribing...';
      submitBtn.disabled = true;

      try {
        const response = await fetch("/api/newsletter/subscribe", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ email: email }),
        });

        const data = await response.json();

        if (data.success) {
          newsletterMessage.className = "newsletter-message success";
          newsletterMessage.textContent =
            data.message || "Thank you for subscribing!";
          newsletterForm.reset();
        } else {
          newsletterMessage.className = "newsletter-message error";
          newsletterMessage.textContent =
            data.error || "Something went wrong. Please try again.";
        }
      } catch (error) {
        newsletterMessage.className = "newsletter-message error";
        newsletterMessage.textContent = "Network error. Please try again.";
      } finally {
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;

        // Hide message after 5 seconds
        setTimeout(() => {
          newsletterMessage.style.display = "none";
        }, 5000);
      }
    });

    // Testimonials Carousel
    let currentTestimonial = 0;
    const testimonials = [
      {
        name: "Sarah Davis",
        role: "Project Manager",
        avatar: "SD",
        content:
          "HangSpace made coordinating with my team so much easier. The real-time features are incredible!",
      },
      {
        name: "Mike Johnson",
        role: "Software Developer",
        avatar: "MJ",
        content:
          "Finally a chat app that just works. The interface is clean and the features are exactly what I need.",
      },
      {
        name: "Emily Thompson",
        role: "Graphic Designer",
        avatar: "ET",
        content:
          "Keeping in touch with friends has never been better. Love the customization options!",
      },
      {
        name: "Alex Chen",
        role: "Marketing Director",
        avatar: "AC",
        content:
          "The group chat features have transformed how our remote team communicates. Highly recommended!",
      },
      {
        name: "Jessica Wilson",
        role: "Product Designer",
        avatar: "JW",
        content:
          "The attention to detail in the user interface is remarkable. It's both beautiful and functional.",
      },
    ];

    const testimonialsTrack = document.getElementById("testimonialsTrack");
    const carouselDots = document.getElementById("carouselDots");

    // Initialize testimonials
    testimonials.forEach((testimonial, index) => {
      const slide = document.createElement("div");
      slide.className = "testimonial-slide";
      slide.innerHTML = `
        <div class="testimonial-content">
          <i class="fas fa-quote-left quote-icon"></i>
          <p>${testimonial.content}</p>
        </div>
        <div class="testimonial-author">
          <div class="author-avatar">${testimonial.avatar}</div>
          <div class="author-info">
            <strong>${testimonial.name}</strong>
            <span>${testimonial.role}</span>
          </div>
        </div>
      `;
      testimonialsTrack.appendChild(slide);

      // Create dots
      const dot = document.createElement("div");
      dot.className = `carousel-dot ${index === 0 ? "active" : ""}`;
      dot.addEventListener("click", () => goToTestimonial(index));
      carouselDots.appendChild(dot);
    });

    // Carousel controls
    document.getElementById("prevTestimonial").addEventListener("click", () => {
      goToTestimonial(currentTestimonial - 1);
    });

    document.getElementById("nextTestimonial").addEventListener("click", () => {
      goToTestimonial(currentTestimonial + 1);
    });

    function goToTestimonial(index) {
      const total = testimonials.length;
      currentTestimonial = (index + total) % total;

      testimonialsTrack.style.transform = `translateX(-${
        currentTestimonial * 100
      }%)`;

      // Update dots
      document.querySelectorAll(".carousel-dot").forEach((dot, i) => {
        dot.classList.toggle("active", i === currentTestimonial);
      });
    }

    // Auto-advance carousel
    setInterval(() => {
      goToTestimonial(currentTestimonial + 1);
    }, 5000);

    // Simple AOS implementation
    const observerOptions = {
      threshold: 0.1,
      rootMargin: "0px 0px -50px 0px",
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("aos-animate");
        }
      });
    }, observerOptions);

    document.querySelectorAll("[data-aos]").forEach((el) => {
      observer.observe(el);
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute("href"));
        if (target) {
          target.scrollIntoView({
            behavior: "smooth",
            block: "start",
          });
        }
      });
    });
  });
</script>
{% endblock %}
